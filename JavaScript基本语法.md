## 基本语法风格

风格总体为C类语言风格

### 分号

分号可以加可以不加，但是在某些情况下不加分号可能会造成歧义，建议加上

### 注释

与C类语言一致

```javascript
// 单行注释
/*
	多行注释
*/
```

### 声明式

```javascript
// 可变变量
let message = "Hello";
// 可变变量
var config = "DEBUG";
// 常量
const PI = 3.1415926;
```

> `let`和`var`的区别
>
> `let`声明的变量
>
> - 具有块作用域
> - 具有先后顺序
> - 与常见的其他的语言中的变量类似
>
> `var`声明的变量
>
> - 没有块作用域，只有函数作用域和全局作用域，在块中声明，块外部仍然可见
> - 在后面声明，前面依然可用，但是值为`undefined`
> - 可以在同作用域中重新声明同名变量（变量遮蔽）

### 动态类型

动态类型允许变量在运行期变换自己的类型

```javascript
let variable = "String";
variable = 1; // 不会报错
```

### 引号

在JavaScript中单引号和双引号没有区别，交替使用可以防止字符串中引号歧义

反引号允许使用`${str}`在字符串中嵌入变量和表达式

```javascript
// 防止歧义
let message = 'You know, his name is "John"';
// 内嵌表达式
let num1 = 6, num2 = 10;
let result = `the result is ${num1 + num2}`;
```

## 数据类型

### 原始数据类型

#### 数字类型（number）

与常规语言类似，该类型可以表示整数，也可以表示浮点数，存储结构为64位双精度浮点数（IEEE 754）

```javascript
let num = 1.2;
```

在进行数字运算的时候，JavaScript永远不会因为错误而崩溃，因为内置的`Infinity`、`-Infinity`和`NaN`的特殊数字类型

- `Infinity` 正无穷大
  - 当正数除以0的时候，返回该结果
  - 当对`Infinity`进行加减乘除运算的时候，返回此结果
  - 当对`-Infinity`取相对数的时候，返回此结果
  - 算术运算的结果太大溢出时，返回此结果
- `-Infinity` 负无穷大
  - 参考正无穷大
- `NaN` 非数
  - 当对一个无法转换为数字类型的类型进行强制转换，返回此结果
  - 当对一个无法转换为数字类型的类型进行数字运算，返回此结果
  - `0 / 0`，返回此结果
  - 库自定义的非法数字运算，返回此结果

#### 大整数类型（bigint ）

无大小限制，只能存储整数

```javascript
// 结尾n后缀表示此类型为大数类型
let big_num = 1231211327856425873456348573546394856n;
```

#### 字符串类型（string）

TODO

#### 布尔类型（boolean）

TODO

#### 空值（null）

TODO

#### 未定义（undefined）

TODO

#### 符号类型（symbol）

TODO

### 复杂数据类型（对象类型）

#### 类类型（object）

TODO

#### 数组（array）

TODO

#### 函数类型（function）

TODO

### 查看类型

使用`typeof`来查看数据类型，返回的字符串和上述的变量一致，有两个除外（null，array）

```javascript
let num = 1;
// 下面两种方法都行
console.log(typeof num);
console.log(typeof(num));

// 输出object，这里其实是历史遗留问题
console.log(typeof(null));
// 输出object，因为数组继承于Object
console.log(typeof([1, 2, 3]))
```

## 类型转换

### 转换为字符串

任何类型都能转换为字符串，且转换后结果直观，例如`false -> "false"`、`null -> "null"`

### 转换为数字

- `null`：转换为`0`
- `false`：转换为`0`
- `true`：转换为`1`
- 字符串：去掉开头和结尾的空白字符后，如果结果为空，那么转换为`0`，如果结果为纯数字字符串，那么转换为对应数字，其他情况则返回`NaN`
- 大整数类型：转换为对应数字，如果太大，那么转换为`Infinity`
- 其他类型：转换为`NaN`

### 转换为布尔类型

仅有以下类型值被转换为`false`

`null`, `""`（空字符串）,  `undefined`, `NaN`, `0`

其余都会转变为`true`

## 运算符

### 基本运算

```javascript
// 加法
let num = 3 + 2;
// 减法
let num = 3 - 2;
// 乘法
let num = 3 * 2;
// 除法
let num = 3 / 2;
// 取余
let num = 3 % 2;
// 求幂
let num = 3 ** 2;
```

> JavaScript在对整数进行除法运算的时候，不会像C类语言那样返回一个去掉小数部分的整数
>
> ```javascript
> let num = 3 / 2; // 1.5
> ```
>
> 求幂运算的指数可以是小数
>
> ```javascript
> let num = 2 ** 0.5; // 1.41421356
> ```

除了加法，其他运算符都会将非数字类型转换为数字类型再进行运算

### 字符串相关

当加法运算符的一侧为字符串时，会按照字符串拼接运算规则来运算。如果另一侧不是字符串，那么会自动转化为字符串。注意加法运算的左结合性

```javascript
let res = "1" + 2; // "12"
let res = 2 + "1"; // "21"
let res = 2 + 1 + "2"; // "32"
```

### 数字类型快速转换

单目运算符`+`的运算原理与`Number()`函数一致，更加简短

```javascript
let num = +12; // 12
let num = +"234"; // 234
```

### 运算符优先级

[运算符优先级表](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_precedence#%E6%B1%87%E6%80%BB%E8%A1%A8)

### 其他运算符

```javascript
let num = 2; // [=] 赋值运算符
num *= 2; // [+=] [-=] [*=] [/=] [**=] [%=] 原地修改运算符
let num2 = (num *= 2, num) // [,] 逗号运算符
num++;num--;++num;--num; // [++] [--] 自增/自减运算符
```

> 这些运算都与C类语言运算一致
>
> [=] 赋值运算符运算结果返回赋值结果，所以可以实现链式赋值
>
> [,] 逗号运算符会返回最后一个表达式的结果
>
> [++] [--] 前置表示当场运算并返回结果，后置表示先返回结果，再进行自增或自减运算

比较运算符在下一段介绍

## 比较与相等

### 运算符

大于`>`、小于`<`、大于等于`>=`、小于等于`<=`、等于`==`、严格等于`===`、不等于`!=`、非严格不等于`!==`

比较运算后返回的结果为Boolean类型

### 数字比较

两边都是数字就会返回数字大小比较结果

### 字符串比较

字符串的大小会按照字典序的方式来比较

### 不同类型比较

